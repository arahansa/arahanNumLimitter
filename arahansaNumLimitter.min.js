!function(a){a.fn.setSelectionRange=function(a,b){return this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(a,b);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}})},a.arahanNumLimitter=function(b,c){var d=this;d.$el=a(b),d.el=b,d.isInitValue=!1,d.$el.data("arahanNumLimitter",d),d.init=function(){var e=["limitNumber","msgAlert","initalValue","basicMsg"];d.options=a.extend({},a.arahanNumLimitter.defaultOptions,c),a.each(e,function(a,b){"undefined"!=typeof d.$el.attr("data-"+b)&&(d.options[b]=d.$el.attr("data-"+b))}),a(b).click(d.clickBaseElem),a(b).focus(d.clickBaseElem),a(b).keyup(d.keyUpBaseElem),a(b).keydown(d.keyDownBaseElem),d.options.init(d.el)},d.isNumberCode=function(a){return a>=48&&57>=a},d.setSelectionRange=function(a,b){return this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(a,b);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}})},d.getSelectionStart=function(a){if(a.createTextRange){var b=document.selection.createRange().duplicate();return b.moveEnd("character",a.value.length),""==b.text?a.value.length:a.value.lastIndexOf(b.text)}return a.selectionStart},d.clickBaseElem=function(a){d.isInitValue||(d.$el.val(d.options.initalValue),d.isInitValue=!0);var b=d.$el.val().length-d.options.limitNumber;d.$el.setSelectionRange(b,b)},d.keyUpBaseElem=function(a){var b=a.keyCode;if(b>35&&40>b||8==b||46==b||d.isNumberCode(b))return!1;var c=d.getSelectionStart(d.el),f=(d.$el.val().length-c,d.$el.val().replace(/[^0-9]/gi,"")),g=Math.pow(10,d.options.limitNumber);f>=g&&(f=Math.floor(f/g)*g,d.$el.val(f),d.$el.setSelectionRange(c,c))},d.keyDownBaseElem=function(a){var b=a.keyCode,c=48>b||b>57,e=8>b||b>46,f=b>123||112>b,g=d.getSelectionStart(d.el),h=d.$el.val().length-g;if(c&&e&&f)return"false"!=d.options.msgAlert&&alert(d.options.basicMsg),a.preventDefault(),!1;if(40==b||35==b){a.preventDefault();var i=d.$el.val().length-d.options.limitNumber;d.$el.setSelectionRange(i,i)}if(h<d.options.limitNumber&&8==b&&a.preventDefault(),h<d.options.limitNumber+1)switch(b){case 39:case 46:a.preventDefault()}},d.init()},a.arahanNumLimitter.defaultOptions={initalValue:1e3,limitNumber:2,basicMsg:"\uc22b\uc790\uc640 \uae30\ubcf8\uc801\uc778 \ubc29\ud5a5\ud0a4\ub9cc \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4",msgAlert:!0,init:function(a){}},a.fn.arahanNumLimitter=function(b){return this.each(function(){new a.arahanNumLimitter(this,b)})}}(jQuery);